{"version":"2","toolVersion":"5.1.2","snippets":{"ee64d1d87ed8dbf0d7ef6309b39a074fbeadcea9d27c461650c4f33577a5df5d":{"translations":{"python":{"source":"# AwsCliLayer bundles the AWS CLI in a lambda layer\nfrom aws_cdk.asset_awscli_v1 import ASSET_FILE, LAYER_SOURCE_DIR\nimport aws_cdk.aws_lambda as lambda_\nimport aws_cdk.aws_s3_assets as s3_assets\nfrom aws_cdk import FileSystem\n\n# fn: lambda.Function\n\nasset = s3_assets.Asset(self, \"layer-asset\",\n    path=ASSET_FILE,\n    asset_hash=FileSystem.fingerprint(LAYER_SOURCE_DIR)\n)\nfn.add_layers(lambda_.LayerVersion(self, \"AwsCliLayer\",\n    code=lambda_.Code.from_bucket(asset.bucket, asset.s3_object_key)\n))","version":"2"},"csharp":{"source":"// AwsCliLayer bundles the AWS CLI in a lambda layer\nusing Aws.Cdk.Asset.Awscli.V1;\nusing Amazon.CDK.AWS.Lambda;\nusing Amazon.CDK.AWS.S3.Assets;\nusing Amazon.CDK;\n\nFunction fn;\n\nvar asset = new Asset(this, \"layer-asset\", new AssetProps {\n    Path = ASSET_FILE,\n    AssetHash = FileSystem.Fingerprint(LAYER_SOURCE_DIR)\n});\nfn.AddLayers(new LayerVersion(this, \"AwsCliLayer\", new LayerVersionProps {\n    Code = Code.FromBucket(asset.Bucket, asset.S3ObjectKey)\n}));","version":"1"},"java":{"source":"// AwsCliLayer bundles the AWS CLI in a lambda layer\nimport aws.cdk.asset.awscli.v1.ASSET_FILE;\nimport aws.cdk.asset.awscli.v1.LAYER_SOURCE_DIR;\nimport software.amazon.awscdk.services.lambda.*;\nimport software.amazon.awscdk.services.s3.assets.*;\nimport software.amazon.awscdk.FileSystem;\n\nFunction fn;\n\nAsset asset = Asset.Builder.create(this, \"layer-asset\")\n        .path(ASSET_FILE)\n        .assetHash(FileSystem.fingerprint(LAYER_SOURCE_DIR))\n        .build();\nfn.addLayers(LayerVersion.Builder.create(this, \"AwsCliLayer\")\n        .code(Code.fromBucket(asset.getBucket(), asset.getS3ObjectKey()))\n        .build());","version":"1"},"go":{"source":"// AwsCliLayer bundles the AWS CLI in a lambda layer\nimport \"github.com/aws-samples/dummy/awscdkassetawscliv1\"\nimport \"github.com/aws/aws-cdk-go/awscdk\"\nimport s3_assets \"github.com/aws/aws-cdk-go/awscdk\"\nimport \"github.com/aws/aws-cdk-go/awscdk\"\n\nvar fn function\n\nasset := s3_assets.NewAsset(this, jsii.String(\"layer-asset\"), &AssetProps{\n\tPath: awscdkassetawscliv1.ASSET_FILE,\n\tAssetHash: awscdk.FileSystem_Fingerprint(*awscdkassetawscliv1.LAYER_SOURCE_DIR),\n})\nfn.AddLayers(lambda.NewLayerVersion(this, jsii.String(\"AwsCliLayer\"), &LayerVersionProps{\n\tCode: lambda.Code_FromBucket(asset.Bucket, asset.S3ObjectKey),\n}))","version":"1"},"$":{"source":"// AwsCliLayer bundles the AWS CLI in a lambda layer\nimport { ASSET_FILE, LAYER_SOURCE_DIR } from '@aws-cdk/asset-awscli-v1';\nimport * as lambda from 'aws-cdk-lib/aws-lambda';\nimport * as s3_assets from 'aws-cdk-lib/aws-s3-assets';\nimport { FileSystem } from 'aws-cdk-lib';\n\ndeclare const fn: lambda.Function;\nconst asset = new s3_assets.Asset(this, 'layer-asset', {\n  path: ASSET_FILE,\n  assetHash: FileSystem.fingerprint(LAYER_SOURCE_DIR),\n});\nfn.addLayers(new lambda.LayerVersion(this, 'AwsCliLayer', {\n  code: lambda.Code.fromBucket(asset.bucket, asset.s3ObjectKey),\n}));","version":"0"}},"location":{"api":{"api":"moduleReadme","moduleFqn":"@aws-cdk/asset-awscli-v1"},"field":{"field":"markdown","line":21}},"didCompile":true,"fqnsReferenced":["aws-cdk-lib.FileSystem#fingerprint","aws-cdk-lib.aws_lambda.Code","aws-cdk-lib.aws_lambda.Code#fromBucket","aws-cdk-lib.aws_lambda.Function#addLayers","aws-cdk-lib.aws_lambda.ILayerVersion","aws-cdk-lib.aws_lambda.LayerVersion","aws-cdk-lib.aws_lambda.LayerVersionProps","aws-cdk-lib.aws_s3.IBucket","aws-cdk-lib.aws_s3_assets.Asset","aws-cdk-lib.aws_s3_assets.Asset#bucket","aws-cdk-lib.aws_s3_assets.Asset#s3ObjectKey","aws-cdk-lib.aws_s3_assets.AssetProps","constructs.Construct"],"fullSource":"// Hoisted imports begin after !show marker below\n/// !show\n// AwsCliLayer bundles the AWS CLI in a lambda layer\nimport { ASSET_FILE, LAYER_SOURCE_DIR } from '@aws-cdk/asset-awscli-v1';\nimport * as lambda from 'aws-cdk-lib/aws-lambda';\nimport * as s3_assets from 'aws-cdk-lib/aws-s3-assets';\nimport { FileSystem } from 'aws-cdk-lib';\n\ndeclare const fn: lambda.Function;\n/// !hide\n// Hoisted imports ended before !hide marker above\n// Fixture with packages imported, but nothing else\nimport { Construct } from 'constructs';\nimport {\n  Stack,\n} from 'aws-cdk-lib';\n\nclass Fixture extends Stack {\n  constructor(scope: Construct, id: string) {\n    super(scope, id);\n\n    // Code snippet begins after !show marker below\n/// !show\n\nconst asset = new s3_assets.Asset(this, 'layer-asset', {\n  path: ASSET_FILE,\n  assetHash: FileSystem.fingerprint(LAYER_SOURCE_DIR),\n});\nfn.addLayers(new lambda.LayerVersion(this, 'AwsCliLayer', {\n  code: lambda.Code.fromBucket(asset.bucket, asset.s3ObjectKey),\n}));\n/// !hide\n// Code snippet ended before !hide marker above\n  }\n}\n","syntaxKindCounter":{"11":6,"80":29,"110":2,"138":1,"165":1,"182":1,"209":2,"210":8,"212":3,"213":2,"242":2,"243":1,"259":2,"260":2,"271":4,"272":4,"273":2,"274":2,"275":3,"302":3,"311":1},"fqnsFingerprint":"62f5a38e295e2fd500946ee82fb1f0c3aa53e67b27938800aa23545bbcfec9af"}}}