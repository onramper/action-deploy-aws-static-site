"use strict";var _a,_b,_c;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CfnReplicaKey=exports.CfnKey=exports.CfnAlias=void 0;const jsiiDeprecationWarnings=require("../../.warnings.jsii.js"),JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti"),cdk=require("../../core"),cfn_parse=require("../../core/lib/helpers-internal");class CfnAlias extends cdk.CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnAliasPropsFromCloudFormation(resourceProperties);if(cdk.isResolvableObject(propsResult.value))throw new Error("Unexpected IResolvable");const ret=new CfnAlias(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnAlias.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings.aws_cdk_lib_aws_kms_CfnAliasProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnAlias),error}cdk.requireProperty(props,"aliasName",this),cdk.requireProperty(props,"targetKeyId",this),this.aliasName=props.aliasName,this.targetKeyId=props.targetKeyId}get cfnProperties(){return{aliasName:this.aliasName,targetKeyId:this.targetKeyId}}inspect(inspector){try{jsiiDeprecationWarnings.aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnAlias.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnAliasPropsToCloudFormation(props)}}exports.CfnAlias=CfnAlias,_a=JSII_RTTI_SYMBOL_1,CfnAlias[_a]={fqn:"aws-cdk-lib.aws_kms.CfnAlias",version:"2.94.0"},CfnAlias.CFN_RESOURCE_TYPE_NAME="AWS::KMS::Alias";function CfnAliasPropsValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("aliasName",cdk.requiredValidator)(properties.aliasName)),errors.collect(cdk.propertyValidator("aliasName",cdk.validateString)(properties.aliasName)),errors.collect(cdk.propertyValidator("targetKeyId",cdk.requiredValidator)(properties.targetKeyId)),errors.collect(cdk.propertyValidator("targetKeyId",cdk.validateString)(properties.targetKeyId)),errors.wrap('supplied properties not correct for "CfnAliasProps"')}function convertCfnAliasPropsToCloudFormation(properties){return cdk.canInspect(properties)?(CfnAliasPropsValidator(properties).assertSuccess(),{AliasName:cdk.stringToCloudFormation(properties.aliasName),TargetKeyId:cdk.stringToCloudFormation(properties.targetKeyId)}):properties}function CfnAliasPropsFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("aliasName","AliasName",properties.AliasName!=null?cfn_parse.FromCloudFormation.getString(properties.AliasName):void 0),ret.addPropertyResult("targetKeyId","TargetKeyId",properties.TargetKeyId!=null?cfn_parse.FromCloudFormation.getString(properties.TargetKeyId):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnKey extends cdk.CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnKeyPropsFromCloudFormation(resourceProperties);if(cdk.isResolvableObject(propsResult.value))throw new Error("Unexpected IResolvable");const ret=new CfnKey(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props={}){super(scope,id,{type:CfnKey.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings.aws_cdk_lib_aws_kms_CfnKeyProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnKey),error}this.attrArn=cdk.Token.asString(this.getAtt("Arn",cdk.ResolutionTypeHint.STRING)),this.attrKeyId=cdk.Token.asString(this.getAtt("KeyId",cdk.ResolutionTypeHint.STRING)),this.bypassPolicyLockoutSafetyCheck=props.bypassPolicyLockoutSafetyCheck,this.description=props.description,this.enabled=props.enabled,this.enableKeyRotation=props.enableKeyRotation,this.keyPolicy=props.keyPolicy,this.keySpec=props.keySpec,this.keyUsage=props.keyUsage,this.multiRegion=props.multiRegion,this.origin=props.origin,this.pendingWindowInDays=props.pendingWindowInDays,this.tags=new cdk.TagManager(cdk.TagType.STANDARD,"AWS::KMS::Key",props.tags,{tagPropertyName:"tags"}),this.tagsRaw=props.tags,this.node.scope!=null&&cdk.Resource.isResource(this.node.scope)&&this.node.addValidation({validate:()=>this.cfnOptions.deletionPolicy===void 0?["'AWS::KMS::Key' is a stateful resource type, and you must specify a Removal Policy for it. Call 'resource.applyRemovalPolicy()'."]:[]})}get cfnProperties(){return{bypassPolicyLockoutSafetyCheck:this.bypassPolicyLockoutSafetyCheck,description:this.description,enabled:this.enabled,enableKeyRotation:this.enableKeyRotation,keyPolicy:this.keyPolicy,keySpec:this.keySpec,keyUsage:this.keyUsage,multiRegion:this.multiRegion,origin:this.origin,pendingWindowInDays:this.pendingWindowInDays,tags:this.tags.renderTags()}}inspect(inspector){try{jsiiDeprecationWarnings.aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnKey.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnKeyPropsToCloudFormation(props)}}exports.CfnKey=CfnKey,_b=JSII_RTTI_SYMBOL_1,CfnKey[_b]={fqn:"aws-cdk-lib.aws_kms.CfnKey",version:"2.94.0"},CfnKey.CFN_RESOURCE_TYPE_NAME="AWS::KMS::Key";function CfnKeyPropsValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("bypassPolicyLockoutSafetyCheck",cdk.validateBoolean)(properties.bypassPolicyLockoutSafetyCheck)),errors.collect(cdk.propertyValidator("description",cdk.validateString)(properties.description)),errors.collect(cdk.propertyValidator("enableKeyRotation",cdk.validateBoolean)(properties.enableKeyRotation)),errors.collect(cdk.propertyValidator("enabled",cdk.validateBoolean)(properties.enabled)),errors.collect(cdk.propertyValidator("keyPolicy",cdk.validateObject)(properties.keyPolicy)),errors.collect(cdk.propertyValidator("keySpec",cdk.validateString)(properties.keySpec)),errors.collect(cdk.propertyValidator("keyUsage",cdk.validateString)(properties.keyUsage)),errors.collect(cdk.propertyValidator("multiRegion",cdk.validateBoolean)(properties.multiRegion)),errors.collect(cdk.propertyValidator("origin",cdk.validateString)(properties.origin)),errors.collect(cdk.propertyValidator("pendingWindowInDays",cdk.validateNumber)(properties.pendingWindowInDays)),errors.collect(cdk.propertyValidator("tags",cdk.listValidator(cdk.validateCfnTag))(properties.tags)),errors.wrap('supplied properties not correct for "CfnKeyProps"')}function convertCfnKeyPropsToCloudFormation(properties){return cdk.canInspect(properties)?(CfnKeyPropsValidator(properties).assertSuccess(),{BypassPolicyLockoutSafetyCheck:cdk.booleanToCloudFormation(properties.bypassPolicyLockoutSafetyCheck),Description:cdk.stringToCloudFormation(properties.description),EnableKeyRotation:cdk.booleanToCloudFormation(properties.enableKeyRotation),Enabled:cdk.booleanToCloudFormation(properties.enabled),KeyPolicy:cdk.objectToCloudFormation(properties.keyPolicy),KeySpec:cdk.stringToCloudFormation(properties.keySpec),KeyUsage:cdk.stringToCloudFormation(properties.keyUsage),MultiRegion:cdk.booleanToCloudFormation(properties.multiRegion),Origin:cdk.stringToCloudFormation(properties.origin),PendingWindowInDays:cdk.numberToCloudFormation(properties.pendingWindowInDays),Tags:cdk.listMapper(cdk.cfnTagToCloudFormation)(properties.tags)}):properties}function CfnKeyPropsFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("bypassPolicyLockoutSafetyCheck","BypassPolicyLockoutSafetyCheck",properties.BypassPolicyLockoutSafetyCheck!=null?cfn_parse.FromCloudFormation.getBoolean(properties.BypassPolicyLockoutSafetyCheck):void 0),ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse.FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("enabled","Enabled",properties.Enabled!=null?cfn_parse.FromCloudFormation.getBoolean(properties.Enabled):void 0),ret.addPropertyResult("enableKeyRotation","EnableKeyRotation",properties.EnableKeyRotation!=null?cfn_parse.FromCloudFormation.getBoolean(properties.EnableKeyRotation):void 0),ret.addPropertyResult("keyPolicy","KeyPolicy",properties.KeyPolicy!=null?cfn_parse.FromCloudFormation.getAny(properties.KeyPolicy):void 0),ret.addPropertyResult("keySpec","KeySpec",properties.KeySpec!=null?cfn_parse.FromCloudFormation.getString(properties.KeySpec):void 0),ret.addPropertyResult("keyUsage","KeyUsage",properties.KeyUsage!=null?cfn_parse.FromCloudFormation.getString(properties.KeyUsage):void 0),ret.addPropertyResult("multiRegion","MultiRegion",properties.MultiRegion!=null?cfn_parse.FromCloudFormation.getBoolean(properties.MultiRegion):void 0),ret.addPropertyResult("origin","Origin",properties.Origin!=null?cfn_parse.FromCloudFormation.getString(properties.Origin):void 0),ret.addPropertyResult("pendingWindowInDays","PendingWindowInDays",properties.PendingWindowInDays!=null?cfn_parse.FromCloudFormation.getNumber(properties.PendingWindowInDays):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse.FromCloudFormation.getArray(cfn_parse.FromCloudFormation.getCfnTag)(properties.Tags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnReplicaKey extends cdk.CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnReplicaKeyPropsFromCloudFormation(resourceProperties);if(cdk.isResolvableObject(propsResult.value))throw new Error("Unexpected IResolvable");const ret=new CfnReplicaKey(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnReplicaKey.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings.aws_cdk_lib_aws_kms_CfnReplicaKeyProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnReplicaKey),error}cdk.requireProperty(props,"keyPolicy",this),cdk.requireProperty(props,"primaryKeyArn",this),this.attrArn=cdk.Token.asString(this.getAtt("Arn",cdk.ResolutionTypeHint.STRING)),this.attrKeyId=cdk.Token.asString(this.getAtt("KeyId",cdk.ResolutionTypeHint.STRING)),this.description=props.description,this.enabled=props.enabled,this.keyPolicy=props.keyPolicy,this.pendingWindowInDays=props.pendingWindowInDays,this.primaryKeyArn=props.primaryKeyArn,this.tags=new cdk.TagManager(cdk.TagType.STANDARD,"AWS::KMS::ReplicaKey",props.tags,{tagPropertyName:"tags"}),this.tagsRaw=props.tags}get cfnProperties(){return{description:this.description,enabled:this.enabled,keyPolicy:this.keyPolicy,pendingWindowInDays:this.pendingWindowInDays,primaryKeyArn:this.primaryKeyArn,tags:this.tags.renderTags()}}inspect(inspector){try{jsiiDeprecationWarnings.aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnReplicaKey.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnReplicaKeyPropsToCloudFormation(props)}}exports.CfnReplicaKey=CfnReplicaKey,_c=JSII_RTTI_SYMBOL_1,CfnReplicaKey[_c]={fqn:"aws-cdk-lib.aws_kms.CfnReplicaKey",version:"2.94.0"},CfnReplicaKey.CFN_RESOURCE_TYPE_NAME="AWS::KMS::ReplicaKey";function CfnReplicaKeyPropsValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("description",cdk.validateString)(properties.description)),errors.collect(cdk.propertyValidator("enabled",cdk.validateBoolean)(properties.enabled)),errors.collect(cdk.propertyValidator("keyPolicy",cdk.requiredValidator)(properties.keyPolicy)),errors.collect(cdk.propertyValidator("keyPolicy",cdk.validateObject)(properties.keyPolicy)),errors.collect(cdk.propertyValidator("pendingWindowInDays",cdk.validateNumber)(properties.pendingWindowInDays)),errors.collect(cdk.propertyValidator("primaryKeyArn",cdk.requiredValidator)(properties.primaryKeyArn)),errors.collect(cdk.propertyValidator("primaryKeyArn",cdk.validateString)(properties.primaryKeyArn)),errors.collect(cdk.propertyValidator("tags",cdk.listValidator(cdk.validateCfnTag))(properties.tags)),errors.wrap('supplied properties not correct for "CfnReplicaKeyProps"')}function convertCfnReplicaKeyPropsToCloudFormation(properties){return cdk.canInspect(properties)?(CfnReplicaKeyPropsValidator(properties).assertSuccess(),{Description:cdk.stringToCloudFormation(properties.description),Enabled:cdk.booleanToCloudFormation(properties.enabled),KeyPolicy:cdk.objectToCloudFormation(properties.keyPolicy),PendingWindowInDays:cdk.numberToCloudFormation(properties.pendingWindowInDays),PrimaryKeyArn:cdk.stringToCloudFormation(properties.primaryKeyArn),Tags:cdk.listMapper(cdk.cfnTagToCloudFormation)(properties.tags)}):properties}function CfnReplicaKeyPropsFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse.FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("enabled","Enabled",properties.Enabled!=null?cfn_parse.FromCloudFormation.getBoolean(properties.Enabled):void 0),ret.addPropertyResult("keyPolicy","KeyPolicy",properties.KeyPolicy!=null?cfn_parse.FromCloudFormation.getAny(properties.KeyPolicy):void 0),ret.addPropertyResult("pendingWindowInDays","PendingWindowInDays",properties.PendingWindowInDays!=null?cfn_parse.FromCloudFormation.getNumber(properties.PendingWindowInDays):void 0),ret.addPropertyResult("primaryKeyArn","PrimaryKeyArn",properties.PrimaryKeyArn!=null?cfn_parse.FromCloudFormation.getString(properties.PrimaryKeyArn):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse.FromCloudFormation.getArray(cfn_parse.FromCloudFormation.getCfnTag)(properties.Tags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}
