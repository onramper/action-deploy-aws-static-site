"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.runScriptLinuxBuildSpec=exports.S3_KEY_ENV=exports.S3_BUCKET_ENV=void 0;const build_spec_1=require("../build-spec");exports.S3_BUCKET_ENV="SCRIPT_S3_BUCKET",exports.S3_KEY_ENV="SCRIPT_S3_KEY";function runScriptLinuxBuildSpec(entrypoint){return build_spec_1.BuildSpec.fromObject({version:"0.2",phases:{pre_build:{commands:[`echo "Downloading scripts from s3://\${${exports.S3_BUCKET_ENV}}/\${${exports.S3_KEY_ENV}}"`,`aws s3 cp s3://\${${exports.S3_BUCKET_ENV}}/\${${exports.S3_KEY_ENV}} /tmp`,"mkdir -p /tmp/scriptdir",`unzip /tmp/$(basename $${exports.S3_KEY_ENV}) -d /tmp/scriptdir`]},build:{commands:["export SCRIPT_DIR=/tmp/scriptdir",`echo "Running ${entrypoint}"`,`chmod +x /tmp/scriptdir/${entrypoint}`,`/tmp/scriptdir/${entrypoint}`]}}})}exports.runScriptLinuxBuildSpec=runScriptLinuxBuildSpec;
