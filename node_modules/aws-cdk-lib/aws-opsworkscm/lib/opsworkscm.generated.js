"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CfnServer=void 0;const jsiiDeprecationWarnings=require("../../.warnings.jsii.js"),JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti"),cdk=require("../../core"),cfn_parse=require("../../core/lib/helpers-internal");class CfnServer extends cdk.CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnServerPropsFromCloudFormation(resourceProperties);if(cdk.isResolvableObject(propsResult.value))throw new Error("Unexpected IResolvable");const ret=new CfnServer(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnServer.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings.aws_cdk_lib_aws_opsworkscm_CfnServerProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnServer),error}cdk.requireProperty(props,"instanceProfileArn",this),cdk.requireProperty(props,"instanceType",this),cdk.requireProperty(props,"serviceRoleArn",this),this.attrArn=cdk.Token.asString(this.getAtt("Arn",cdk.ResolutionTypeHint.STRING)),this.attrEndpoint=cdk.Token.asString(this.getAtt("Endpoint",cdk.ResolutionTypeHint.STRING)),this.attrServerName=cdk.Token.asString(this.getAtt("ServerName",cdk.ResolutionTypeHint.STRING)),this.associatePublicIpAddress=props.associatePublicIpAddress,this.backupId=props.backupId,this.backupRetentionCount=props.backupRetentionCount,this.customCertificate=props.customCertificate,this.customDomain=props.customDomain,this.customPrivateKey=props.customPrivateKey,this.disableAutomatedBackup=props.disableAutomatedBackup,this.engine=props.engine,this.engineAttributes=props.engineAttributes,this.engineModel=props.engineModel,this.engineVersion=props.engineVersion,this.instanceProfileArn=props.instanceProfileArn,this.instanceType=props.instanceType,this.keyPair=props.keyPair,this.preferredBackupWindow=props.preferredBackupWindow,this.preferredMaintenanceWindow=props.preferredMaintenanceWindow,this.securityGroupIds=props.securityGroupIds,this.serverName=props.serverName,this.serviceRoleArn=props.serviceRoleArn,this.subnetIds=props.subnetIds,this.tags=new cdk.TagManager(cdk.TagType.STANDARD,"AWS::OpsWorksCM::Server",props.tags,{tagPropertyName:"tags"}),this.tagsRaw=props.tags}get cfnProperties(){return{associatePublicIpAddress:this.associatePublicIpAddress,backupId:this.backupId,backupRetentionCount:this.backupRetentionCount,customCertificate:this.customCertificate,customDomain:this.customDomain,customPrivateKey:this.customPrivateKey,disableAutomatedBackup:this.disableAutomatedBackup,engine:this.engine,engineAttributes:this.engineAttributes,engineModel:this.engineModel,engineVersion:this.engineVersion,instanceProfileArn:this.instanceProfileArn,instanceType:this.instanceType,keyPair:this.keyPair,preferredBackupWindow:this.preferredBackupWindow,preferredMaintenanceWindow:this.preferredMaintenanceWindow,securityGroupIds:this.securityGroupIds,serverName:this.serverName,serviceRoleArn:this.serviceRoleArn,subnetIds:this.subnetIds,tags:this.tags.renderTags()}}inspect(inspector){try{jsiiDeprecationWarnings.aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnServer.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnServerPropsToCloudFormation(props)}}exports.CfnServer=CfnServer,_a=JSII_RTTI_SYMBOL_1,CfnServer[_a]={fqn:"aws-cdk-lib.aws_opsworkscm.CfnServer",version:"2.94.0"},CfnServer.CFN_RESOURCE_TYPE_NAME="AWS::OpsWorksCM::Server";function CfnServerEngineAttributePropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("name",cdk.validateString)(properties.name)),errors.collect(cdk.propertyValidator("value",cdk.validateString)(properties.value)),errors.wrap('supplied properties not correct for "EngineAttributeProperty"')}function convertCfnServerEngineAttributePropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnServerEngineAttributePropertyValidator(properties).assertSuccess(),{Name:cdk.stringToCloudFormation(properties.name),Value:cdk.stringToCloudFormation(properties.value)}):properties}function CfnServerEngineAttributePropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("name","Name",properties.Name!=null?cfn_parse.FromCloudFormation.getString(properties.Name):void 0),ret.addPropertyResult("value","Value",properties.Value!=null?cfn_parse.FromCloudFormation.getString(properties.Value):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnServerPropsValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("associatePublicIpAddress",cdk.validateBoolean)(properties.associatePublicIpAddress)),errors.collect(cdk.propertyValidator("backupId",cdk.validateString)(properties.backupId)),errors.collect(cdk.propertyValidator("backupRetentionCount",cdk.validateNumber)(properties.backupRetentionCount)),errors.collect(cdk.propertyValidator("customCertificate",cdk.validateString)(properties.customCertificate)),errors.collect(cdk.propertyValidator("customDomain",cdk.validateString)(properties.customDomain)),errors.collect(cdk.propertyValidator("customPrivateKey",cdk.validateString)(properties.customPrivateKey)),errors.collect(cdk.propertyValidator("disableAutomatedBackup",cdk.validateBoolean)(properties.disableAutomatedBackup)),errors.collect(cdk.propertyValidator("engine",cdk.validateString)(properties.engine)),errors.collect(cdk.propertyValidator("engineAttributes",cdk.listValidator(CfnServerEngineAttributePropertyValidator))(properties.engineAttributes)),errors.collect(cdk.propertyValidator("engineModel",cdk.validateString)(properties.engineModel)),errors.collect(cdk.propertyValidator("engineVersion",cdk.validateString)(properties.engineVersion)),errors.collect(cdk.propertyValidator("instanceProfileArn",cdk.requiredValidator)(properties.instanceProfileArn)),errors.collect(cdk.propertyValidator("instanceProfileArn",cdk.validateString)(properties.instanceProfileArn)),errors.collect(cdk.propertyValidator("instanceType",cdk.requiredValidator)(properties.instanceType)),errors.collect(cdk.propertyValidator("instanceType",cdk.validateString)(properties.instanceType)),errors.collect(cdk.propertyValidator("keyPair",cdk.validateString)(properties.keyPair)),errors.collect(cdk.propertyValidator("preferredBackupWindow",cdk.validateString)(properties.preferredBackupWindow)),errors.collect(cdk.propertyValidator("preferredMaintenanceWindow",cdk.validateString)(properties.preferredMaintenanceWindow)),errors.collect(cdk.propertyValidator("securityGroupIds",cdk.listValidator(cdk.validateString))(properties.securityGroupIds)),errors.collect(cdk.propertyValidator("serverName",cdk.validateString)(properties.serverName)),errors.collect(cdk.propertyValidator("serviceRoleArn",cdk.requiredValidator)(properties.serviceRoleArn)),errors.collect(cdk.propertyValidator("serviceRoleArn",cdk.validateString)(properties.serviceRoleArn)),errors.collect(cdk.propertyValidator("subnetIds",cdk.listValidator(cdk.validateString))(properties.subnetIds)),errors.collect(cdk.propertyValidator("tags",cdk.listValidator(cdk.validateCfnTag))(properties.tags)),errors.wrap('supplied properties not correct for "CfnServerProps"')}function convertCfnServerPropsToCloudFormation(properties){return cdk.canInspect(properties)?(CfnServerPropsValidator(properties).assertSuccess(),{AssociatePublicIpAddress:cdk.booleanToCloudFormation(properties.associatePublicIpAddress),BackupId:cdk.stringToCloudFormation(properties.backupId),BackupRetentionCount:cdk.numberToCloudFormation(properties.backupRetentionCount),CustomCertificate:cdk.stringToCloudFormation(properties.customCertificate),CustomDomain:cdk.stringToCloudFormation(properties.customDomain),CustomPrivateKey:cdk.stringToCloudFormation(properties.customPrivateKey),DisableAutomatedBackup:cdk.booleanToCloudFormation(properties.disableAutomatedBackup),Engine:cdk.stringToCloudFormation(properties.engine),EngineAttributes:cdk.listMapper(convertCfnServerEngineAttributePropertyToCloudFormation)(properties.engineAttributes),EngineModel:cdk.stringToCloudFormation(properties.engineModel),EngineVersion:cdk.stringToCloudFormation(properties.engineVersion),InstanceProfileArn:cdk.stringToCloudFormation(properties.instanceProfileArn),InstanceType:cdk.stringToCloudFormation(properties.instanceType),KeyPair:cdk.stringToCloudFormation(properties.keyPair),PreferredBackupWindow:cdk.stringToCloudFormation(properties.preferredBackupWindow),PreferredMaintenanceWindow:cdk.stringToCloudFormation(properties.preferredMaintenanceWindow),SecurityGroupIds:cdk.listMapper(cdk.stringToCloudFormation)(properties.securityGroupIds),ServerName:cdk.stringToCloudFormation(properties.serverName),ServiceRoleArn:cdk.stringToCloudFormation(properties.serviceRoleArn),SubnetIds:cdk.listMapper(cdk.stringToCloudFormation)(properties.subnetIds),Tags:cdk.listMapper(cdk.cfnTagToCloudFormation)(properties.tags)}):properties}function CfnServerPropsFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("associatePublicIpAddress","AssociatePublicIpAddress",properties.AssociatePublicIpAddress!=null?cfn_parse.FromCloudFormation.getBoolean(properties.AssociatePublicIpAddress):void 0),ret.addPropertyResult("backupId","BackupId",properties.BackupId!=null?cfn_parse.FromCloudFormation.getString(properties.BackupId):void 0),ret.addPropertyResult("backupRetentionCount","BackupRetentionCount",properties.BackupRetentionCount!=null?cfn_parse.FromCloudFormation.getNumber(properties.BackupRetentionCount):void 0),ret.addPropertyResult("customCertificate","CustomCertificate",properties.CustomCertificate!=null?cfn_parse.FromCloudFormation.getString(properties.CustomCertificate):void 0),ret.addPropertyResult("customDomain","CustomDomain",properties.CustomDomain!=null?cfn_parse.FromCloudFormation.getString(properties.CustomDomain):void 0),ret.addPropertyResult("customPrivateKey","CustomPrivateKey",properties.CustomPrivateKey!=null?cfn_parse.FromCloudFormation.getString(properties.CustomPrivateKey):void 0),ret.addPropertyResult("disableAutomatedBackup","DisableAutomatedBackup",properties.DisableAutomatedBackup!=null?cfn_parse.FromCloudFormation.getBoolean(properties.DisableAutomatedBackup):void 0),ret.addPropertyResult("engine","Engine",properties.Engine!=null?cfn_parse.FromCloudFormation.getString(properties.Engine):void 0),ret.addPropertyResult("engineAttributes","EngineAttributes",properties.EngineAttributes!=null?cfn_parse.FromCloudFormation.getArray(CfnServerEngineAttributePropertyFromCloudFormation)(properties.EngineAttributes):void 0),ret.addPropertyResult("engineModel","EngineModel",properties.EngineModel!=null?cfn_parse.FromCloudFormation.getString(properties.EngineModel):void 0),ret.addPropertyResult("engineVersion","EngineVersion",properties.EngineVersion!=null?cfn_parse.FromCloudFormation.getString(properties.EngineVersion):void 0),ret.addPropertyResult("instanceProfileArn","InstanceProfileArn",properties.InstanceProfileArn!=null?cfn_parse.FromCloudFormation.getString(properties.InstanceProfileArn):void 0),ret.addPropertyResult("instanceType","InstanceType",properties.InstanceType!=null?cfn_parse.FromCloudFormation.getString(properties.InstanceType):void 0),ret.addPropertyResult("keyPair","KeyPair",properties.KeyPair!=null?cfn_parse.FromCloudFormation.getString(properties.KeyPair):void 0),ret.addPropertyResult("preferredBackupWindow","PreferredBackupWindow",properties.PreferredBackupWindow!=null?cfn_parse.FromCloudFormation.getString(properties.PreferredBackupWindow):void 0),ret.addPropertyResult("preferredMaintenanceWindow","PreferredMaintenanceWindow",properties.PreferredMaintenanceWindow!=null?cfn_parse.FromCloudFormation.getString(properties.PreferredMaintenanceWindow):void 0),ret.addPropertyResult("securityGroupIds","SecurityGroupIds",properties.SecurityGroupIds!=null?cfn_parse.FromCloudFormation.getArray(cfn_parse.FromCloudFormation.getString)(properties.SecurityGroupIds):void 0),ret.addPropertyResult("serverName","ServerName",properties.ServerName!=null?cfn_parse.FromCloudFormation.getString(properties.ServerName):void 0),ret.addPropertyResult("serviceRoleArn","ServiceRoleArn",properties.ServiceRoleArn!=null?cfn_parse.FromCloudFormation.getString(properties.ServiceRoleArn):void 0),ret.addPropertyResult("subnetIds","SubnetIds",properties.SubnetIds!=null?cfn_parse.FromCloudFormation.getArray(cfn_parse.FromCloudFormation.getString)(properties.SubnetIds):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse.FromCloudFormation.getArray(cfn_parse.FromCloudFormation.getCfnTag)(properties.Tags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}
