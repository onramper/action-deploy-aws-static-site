"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropEmptyObjectAtTheEndOfAnArray=void 0;const object_1=require("./object"),cdk=require("../../../core");class DropEmptyObjectAtTheEndOfAnArray{constructor(value){this.value=value,this.creationStack=cdk.captureStackTrace()}resolve(context){return context.registerPostProcessor(this),context.resolve(this.value)}postProcess(o,_context){if(!Array.isArray(o))return o;const lastEl=o[o.length-1];return typeof lastEl=="object"&&lastEl!==null&&Object.keys((0,object_1.dropUndefined)(lastEl)).length===0?o.slice(0,o.length-1):o}}exports.DropEmptyObjectAtTheEndOfAnArray=DropEmptyObjectAtTheEndOfAnArray;
