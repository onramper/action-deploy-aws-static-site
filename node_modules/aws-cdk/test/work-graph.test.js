"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const work_graph_1 = require("../lib/util/work-graph");
const work_graph_types_1 = require("../lib/util/work-graph-types");
const DUMMY = 'DUMMY';
const sleep = async (duration) => new Promise((resolve) => setTimeout(() => resolve(), duration));
// Not great to have actual sleeps in the tests, but they mostly just exist to give the async workflow
// a chance to start new tasks.
const SLOW = 200;
/**
 * Repurposing unused stack attributes to create specific test scenarios
 * - stack.name          = deployment duration
 * - stack.displayName   = error message
 */
describe('WorkGraph', () => {
    const actionedAssets = [];
    const callbacks = {
        deployStack: async (x) => {
            const errorMessage = x.stack.displayName;
            const timeout = Number(x.stack.stackName) || 0;
            await sleep(timeout);
            // Special case for testing NestedCloudAssemblyArtifacts
            if (errorMessage && !errorMessage.startsWith('Nested')) {
                throw Error(errorMessage);
            }
            actionedAssets.push(x.id);
        },
        buildAsset: async (x) => {
            const errorMessage = x.parentStack.displayName;
            const timeout = Number(x.parentStack.stackName) || 0;
            await sleep(timeout);
            if (errorMessage) {
                throw Error(errorMessage);
            }
            actionedAssets.push(x.id);
        },
        publishAsset: async (x) => {
            const errorMessage = x.parentStack.displayName;
            const timeout = Number(x.parentStack.stackName) || 0;
            await sleep(timeout);
            if (errorMessage) {
                throw Error(errorMessage);
            }
            actionedAssets.push(x.id);
        },
    };
    beforeEach(() => {
        actionedAssets.splice(0);
    });
    // Success
    test.each([
        // Concurrency 1
        { scenario: 'No Stacks', concurrency: 1, toDeploy: [], expected: [] },
        { scenario: 'A', concurrency: 1, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }]), expected: ['A'] },
        { scenario: 'A, B', concurrency: 1, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }, { id: 'B', type: 'stack' }]), expected: ['A', 'B'] },
        { scenario: 'A -> B', concurrency: 1, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }, { id: 'B', type: 'stack', stackDependencies: ['A'] }]), expected: ['A', 'B'] },
        { scenario: '[unsorted] A -> B', concurrency: 1, toDeploy: createArtifacts([{ id: 'B', type: 'stack', stackDependencies: ['A'] }, { id: 'A', type: 'stack' }]), expected: ['A', 'B'] },
        { scenario: 'A -> B -> C', concurrency: 1, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }, { id: 'B', type: 'stack', stackDependencies: ['A'] }, { id: 'C', type: 'stack', stackDependencies: ['B'] }]), expected: ['A', 'B', 'C'] },
        { scenario: 'A -> B, A -> C', concurrency: 1, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }, { id: 'B', type: 'stack', stackDependencies: ['A'] }, { id: 'C', type: 'stack', stackDependencies: ['A'] }]), expected: ['A', 'B', 'C'] },
        {
            scenario: 'A (slow), B',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', name: SLOW },
                { id: 'B', type: 'stack' },
            ]),
            expected: ['A', 'B'],
        },
        {
            scenario: 'A -> B, C -> D',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack' },
                { id: 'B', type: 'stack', stackDependencies: ['A'] },
                { id: 'C', type: 'stack' },
                { id: 'D', type: 'stack', stackDependencies: ['C'] },
            ]),
            expected: ['A', 'C', 'B', 'D'],
        },
        {
            scenario: 'A (slow) -> B, C -> D',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', name: SLOW },
                { id: 'B', type: 'stack', stackDependencies: ['A'] },
                { id: 'C', type: 'stack' },
                { id: 'D', type: 'stack', stackDependencies: ['C'] },
            ]),
            expected: ['A', 'C', 'B', 'D'],
        },
        // With Assets
        {
            scenario: 'A -> a',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', assetDependencies: ['a'] },
                { id: 'a', type: 'asset' },
            ]),
            expected: ['a-build', 'a-publish', 'A'],
        },
        {
            scenario: 'A -> [a, B]',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', stackDependencies: ['B'], assetDependencies: ['a'] },
                { id: 'B', type: 'stack' },
                { id: 'a', type: 'asset', name: SLOW },
            ]),
            expected: ['B', 'a-build', 'a-publish', 'A'],
        },
        {
            scenario: 'A -> a, B -> b',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', assetDependencies: ['a'] },
                { id: 'B', type: 'stack', assetDependencies: ['b'] },
                { id: 'a', type: 'asset' },
                { id: 'b', type: 'asset' },
            ]),
            expected: ['a-build', 'b-build', 'a-publish', 'b-publish', 'A', 'B'],
        },
        {
            scenario: 'A, B -> b -> A',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack' },
                { id: 'B', type: 'stack', assetDependencies: ['b'] },
                { id: 'b', type: 'asset', stackDependencies: ['A'] },
            ]),
            expected: ['A', 'b-build', 'b-publish', 'B'],
        },
        // Concurrency 2
        { scenario: 'No Stacks', concurrency: 2, toDeploy: [], expected: [] },
        { scenario: 'A', concurrency: 2, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }]), expected: ['A'] },
        { scenario: 'A, B', concurrency: 2, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }, { id: 'B', type: 'stack' }]), expected: ['A', 'B'] },
        { scenario: 'A -> B', concurrency: 2, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }, { id: 'B', type: 'stack', stackDependencies: ['A'] }]), expected: ['A', 'B'] },
        { scenario: '[unsorted] A -> B', concurrency: 2, toDeploy: createArtifacts([{ id: 'B', type: 'stack', stackDependencies: ['A'] }, { id: 'A', type: 'stack' }]), expected: ['A', 'B'] },
        { scenario: 'A -> B -> C', concurrency: 2, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }, { id: 'B', type: 'stack', stackDependencies: ['A'] }, { id: 'C', type: 'stack', stackDependencies: ['B'] }]), expected: ['A', 'B', 'C'] },
        { scenario: 'A -> B, A -> C', concurrency: 2, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }, { id: 'B', type: 'stack', stackDependencies: ['A'] }, { id: 'C', type: 'stack', stackDependencies: ['A'] }]), expected: ['A', 'B', 'C'] },
        {
            scenario: 'A, B',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', name: SLOW },
                { id: 'B', type: 'stack' },
            ]),
            expected: ['B', 'A'],
        },
        {
            scenario: 'A -> B, C -> D',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack' },
                { id: 'B', type: 'stack', stackDependencies: ['A'] },
                { id: 'C', type: 'stack' },
                { id: 'D', type: 'stack', stackDependencies: ['C'] },
            ]),
            expected: ['A', 'C', 'B', 'D'],
        },
        {
            scenario: 'A (slow) -> B, C -> D',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', name: SLOW },
                { id: 'B', type: 'stack', stackDependencies: ['A'] },
                { id: 'C', type: 'stack' },
                { id: 'D', type: 'stack', stackDependencies: ['C'] },
            ]),
            expected: ['C', 'D', 'A', 'B'],
        },
        {
            scenario: 'A -> B, A not selected',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'B', type: 'stack', stackDependencies: ['A'] },
            ]),
            expected: ['B'],
        },
        // With Assets
        {
            scenario: 'A -> a',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', assetDependencies: ['a'] },
                { id: 'a', type: 'asset' },
            ]),
            expected: ['a-build', 'a-publish', 'A'],
        },
        {
            scenario: 'A -> [a, B]',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', stackDependencies: ['B'], assetDependencies: ['a'] },
                { id: 'B', type: 'stack', name: SLOW },
                { id: 'a', type: 'asset' },
            ]),
            expected: ['a-build', 'a-publish', 'B', 'A'],
        },
        {
            scenario: 'A -> a, B -> b',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', assetDependencies: ['a'] },
                { id: 'B', type: 'stack', assetDependencies: ['b'] },
                { id: 'a', type: 'asset' },
                { id: 'b', type: 'asset' },
            ]),
            expected: ['a-build', 'b-build', 'a-publish', 'b-publish', 'A', 'B'],
        },
        {
            scenario: 'A, B -> b -> A',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack' },
                { id: 'B', type: 'stack', assetDependencies: ['b'] },
                { id: 'b', type: 'asset', stackDependencies: ['A'] },
            ]),
            expected: ['A', 'b-build', 'b-publish', 'B'],
        },
        {
            scenario: 'A, B -> [b, c], b -> A',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', name: SLOW },
                { id: 'B', type: 'stack', assetDependencies: ['b', 'c'] },
                { id: 'b', type: 'asset', stackDependencies: ['A'] },
                { id: 'c', type: 'asset' },
            ]),
            expected: ['c-build', 'c-publish', 'A', 'b-build', 'b-publish', 'B'],
        },
    ])('Success - Concurrency: $concurrency - $scenario', async ({ concurrency, expected, toDeploy }) => {
        const graph = new work_graph_1.WorkGraph();
        addTestArtifactsToGraph(toDeploy, graph);
        await graph.doParallel(concurrency, callbacks);
        expect(actionedAssets).toStrictEqual(expected);
    });
    test('can remove unnecessary assets', async () => {
        const graph = new work_graph_1.WorkGraph();
        addTestArtifactsToGraph([
            { id: 'a', type: 'asset' },
            { id: 'b', type: 'asset' },
            { id: 'A', type: 'stack', assetDependencies: ['a', 'b'] },
        ], graph);
        // Remove 'b' from the graph
        await graph.removeUnnecessaryAssets(node => Promise.resolve(node.id.startsWith('b')));
        await graph.doParallel(1, callbacks);
        // We expect to only see 'a' and 'A'
        expect(actionedAssets).toEqual(['a-build', 'a-publish', 'A']);
    });
    // Failure Concurrency
    test.each([
        // Concurrency 1
        { scenario: 'A (error)', concurrency: 1, toDeploy: createArtifacts([{ id: 'A', type: 'stack', displayName: 'A' }]), expectedError: 'A', expected: [] },
        { scenario: 'A (error), B', concurrency: 1, toDeploy: createArtifacts([{ id: 'A', type: 'stack', displayName: 'A' }, { id: 'B', type: 'stack' }]), expectedError: 'A', expected: [] },
        { scenario: 'A, B (error)', concurrency: 1, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }, { id: 'B', type: 'stack', displayName: 'B' }]), expectedError: 'B', expected: ['A'] },
        { scenario: 'A (error) -> B', concurrency: 1, toDeploy: createArtifacts([{ id: 'A', type: 'stack', displayName: 'A' }, { id: 'B', type: 'stack', stackDependencies: ['A'] }]), expectedError: 'A', expected: [] },
        { scenario: '[unsorted] A (error) -> B', concurrency: 1, toDeploy: createArtifacts([{ id: 'B', type: 'stack', stackDependencies: ['A'] }, { id: 'A', type: 'stack', displayName: 'A' }]), expectedError: 'A', expected: [] },
        {
            scenario: 'A (error) -> B, C -> D',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', displayName: 'A' },
                { id: 'B', type: 'stack', stackDependencies: ['A'] },
                { id: 'C', type: 'stack' },
                { id: 'D', type: 'stack', stackDependencies: ['C'] },
            ]),
            expectedError: 'A',
            expected: [],
        },
        {
            scenario: 'A -> B, C (error) -> D',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack' },
                { id: 'B', type: 'stack', stackDependencies: ['A'] },
                { id: 'C', type: 'stack', displayName: 'C', name: SLOW },
                { id: 'D', type: 'stack', stackDependencies: ['C'] },
            ]),
            expectedError: 'C',
            expected: ['A'],
        },
        // With assets
        {
            scenario: 'A -> b (asset build error)',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', assetDependencies: ['b'] },
                { id: 'b', type: 'asset', displayName: 'build-b' },
            ]),
            expectedError: 'build-b',
            expected: [],
        },
        {
            scenario: 'A -> b (asset publish error)',
            concurrency: 1,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', assetDependencies: ['b'] },
                { id: 'b', type: 'asset', displayName: 'publish-b' },
            ]),
            expectedError: 'publish-b',
            expected: ['b-build'],
        },
        // Concurrency 2
        { scenario: 'A (error)', concurrency: 2, toDeploy: createArtifacts([{ id: 'A', type: 'stack', displayName: 'A' }]), expectedError: 'A', expected: [] },
        { scenario: 'A (error), B', concurrency: 2, toDeploy: createArtifacts([{ id: 'A', type: 'stack', displayName: 'A' }, { id: 'B', type: 'stack' }]), expectedError: 'A', expected: ['B'] },
        { scenario: 'A, B (error)', concurrency: 2, toDeploy: createArtifacts([{ id: 'A', type: 'stack' }, { id: 'B', type: 'stack', displayName: 'B' }]), expectedError: 'B', expected: ['A'] },
        { scenario: 'A (error) -> B', concurrency: 2, toDeploy: createArtifacts([{ id: 'A', type: 'stack', displayName: 'A' }, { id: 'B', type: 'stack', stackDependencies: ['A'] }]), expectedError: 'A', expected: [] },
        { scenario: '[unsorted] A (error) -> B', concurrency: 2, toDeploy: createArtifacts([{ id: 'B', type: 'stack', stackDependencies: ['A'] }, { id: 'A', type: 'stack', displayName: 'A' }]), expectedError: 'A', expected: [] },
        {
            scenario: 'A (error) -> B, C -> D',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', displayName: 'A' },
                { id: 'B', type: 'stack', stackDependencies: ['A'] },
                { id: 'C', type: 'stack' },
                { id: 'D', type: 'stack', stackDependencies: ['C'] },
            ]),
            expectedError: 'A',
            expected: ['C'],
        },
        {
            scenario: 'A -> B, C (error) -> D',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack' },
                { id: 'B', type: 'stack', stackDependencies: ['A'] },
                { id: 'C', type: 'stack', displayName: 'C', name: SLOW },
                { id: 'D', type: 'stack', stackDependencies: ['C'] },
            ]),
            expectedError: 'C',
            expected: ['A', 'B'],
        },
        // With assets
        {
            scenario: 'A -> b (asset build error), C',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', assetDependencies: ['b'] },
                { id: 'b', type: 'asset', displayName: 'build-b' },
                { id: 'C', type: 'stack' },
            ]),
            expectedError: 'build-b',
            expected: ['C'],
        },
        {
            scenario: 'A -> b (asset publish error), C',
            concurrency: 2,
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', assetDependencies: ['b'] },
                { id: 'b', type: 'asset', displayName: 'publish-b' },
                { id: 'C', type: 'stack' },
            ]),
            expectedError: 'publish-b',
            expected: ['b-build', 'C'],
        },
    ])('Failure - Concurrency: $concurrency - $scenario', async ({ concurrency, expectedError, toDeploy, expected }) => {
        const graph = new work_graph_1.WorkGraph();
        addTestArtifactsToGraph(toDeploy, graph);
        await expect(graph.doParallel(concurrency, callbacks)).rejects.toThrowError(expectedError);
        expect(actionedAssets).toStrictEqual(expected);
    });
    // Failure Graph Circular Dependencies
    test.each([
        {
            scenario: 'A -> A',
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', stackDependencies: ['A'] },
            ]),
            expectedError: 'A -> A',
        },
        {
            scenario: 'A -> B, B -> A',
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack', stackDependencies: ['B'] },
                { id: 'B', type: 'stack', stackDependencies: ['A'] },
            ]),
            expectedError: 'A -> B -> A',
        },
        {
            scenario: 'A, B -> C, C -> D, D -> B',
            toDeploy: createArtifacts([
                { id: 'A', type: 'stack' },
                { id: 'B', type: 'stack', stackDependencies: ['C'] },
                { id: 'C', type: 'stack', stackDependencies: ['D'] },
                { id: 'D', type: 'stack', stackDependencies: ['B'] },
            ]),
            expectedError: 'B -> C -> D -> B',
        },
    ])('Failure - Graph Circular Dependencies - $scenario', async ({ toDeploy, expectedError }) => {
        const graph = new work_graph_1.WorkGraph();
        addTestArtifactsToGraph(toDeploy, graph);
        await expect(graph.doParallel(1, callbacks)).rejects.toThrowError(new RegExp(`Unable to make progress.*${expectedError}`));
    });
});
function createArtifacts(artifacts) {
    return artifacts;
}
function addTestArtifactsToGraph(toDeploy, graph) {
    for (const node of toDeploy) {
        switch (node.type) {
            case 'stack':
                graph.addNodes({
                    type: 'stack',
                    id: node.id,
                    deploymentState: work_graph_types_1.DeploymentState.PENDING,
                    stack: {
                        // We're smuggling information here so that the set of callbacks can do some appropriate action
                        stackName: node.name,
                        displayName: node.displayName, // Used to smuggle exception triggers
                    },
                    dependencies: new Set([...node.stackDependencies ?? [], ...(node.assetDependencies ?? []).map(x => `${x}-publish`)]),
                });
                break;
            case 'asset':
                graph.addNodes({
                    type: 'asset-build',
                    id: `${node.id}-build`,
                    deploymentState: work_graph_types_1.DeploymentState.PENDING,
                    asset: DUMMY,
                    assetManifest: DUMMY,
                    assetManifestArtifact: DUMMY,
                    parentStack: {
                        // We're smuggling information here so that the set of callbacks can do some appropriate action
                        stackName: node.name,
                        displayName: node.displayName?.includes('build') ? node.displayName : undefined, // Used to smuggle exception triggers
                    },
                    dependencies: new Set([...node.stackDependencies ?? [], ...(node.assetDependencies ?? []).map(x => `${x}-publish`)]),
                });
                graph.addNodes({
                    type: 'asset-publish',
                    id: `${node.id}-publish`,
                    deploymentState: work_graph_types_1.DeploymentState.PENDING,
                    asset: DUMMY,
                    assetManifest: DUMMY,
                    assetManifestArtifact: DUMMY,
                    parentStack: {
                        // We're smuggling information here so that the set of callbacks can do some appropriate action
                        stackName: node.name,
                        displayName: node.displayName?.includes('publish') ? node.displayName : undefined, // Used to smuggle exception triggers
                    },
                    dependencies: new Set([`${node.id}-build`]),
                });
                break;
        }
    }
    graph.removeUnavailableDependencies();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29yay1ncmFwaC50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsid29yay1ncmFwaC50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdURBQW1EO0FBQ25ELG1FQUE0RztBQUU1RyxNQUFNLEtBQUssR0FBUSxPQUFPLENBQUM7QUFFM0IsTUFBTSxLQUFLLEdBQUcsS0FBSyxFQUFFLFFBQWdCLEVBQUUsRUFBRSxDQUFDLElBQUksT0FBTyxDQUFPLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUVoSCxzR0FBc0c7QUFDdEcsK0JBQStCO0FBQy9CLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUVqQjs7OztHQUlHO0FBQ0gsUUFBUSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7SUFDekIsTUFBTSxjQUFjLEdBQWEsRUFBRSxDQUFDO0lBQ3BDLE1BQU0sU0FBUyxHQUFHO1FBQ2hCLFdBQVcsRUFBRSxLQUFLLEVBQUUsQ0FBWSxFQUFFLEVBQUU7WUFDbEMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7WUFDekMsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRS9DLE1BQU0sS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBRXJCLHdEQUF3RDtZQUN4RCxJQUFJLFlBQVksSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQ3RELE1BQU0sS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO2FBQzNCO1lBRUQsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUNELFVBQVUsRUFBRSxLQUFLLEVBQUMsQ0FBaUIsRUFBRSxF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O3FCQUNsSDtvQkFDUixZQUFZLEVBQUUsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO2lCQUM1QyxDQUFDLENBQUM7Z0JBQ0gsTUFBTTtTQUNUO0tBQ0Y7SUFDRCxLQUFLLENBQUMsNkJBQTZCLEVBQUUsQ0FBQztBQUN4QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV29ya0dyYXBoIH0gZnJvbSAnLi4vbGliL3V0aWwvd29yay1ncmFwaCc7XG5pbXBvcnQgeyBBc3NldEJ1aWxkTm9kZSwgQXNzZXRQdWJsaXNoTm9kZSwgRGVwbG95bWVudFN0YXRlLCBTdGFja05vZGUgfSBmcm9tICcuLi9saWIvdXRpbC93b3JrLWdyYXBoLXR5cGVzJztcblxuY29uc3QgRFVNTVk6IGFueSA9ICdEVU1NWSc7XG5cbmNvbnN0IHNsZWVwID0gYXN5bmMgKGR1cmF0aW9uOiBudW1iZXIpID0+IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoKSwgZHVyYXRpb24pKTtcblxuLy8gTm90IGdyZWF0IHRvIGhhdmUgYWN0dWFsIHNsZWVwcyBpbiB0aGUgdGVzdHMsIGJ1dCB0aGV5IG1vc3RseSBqdXN0IGV4aXN0IHRvIGdpdmUgdGhlIGFzeW5jIHdvcmtmbG93XG4vLyBhIGNoYW5jZSB0byBzdGFydCBuZXcgdGFza3MuXG5jb25zdCBTTE9XID0gMjAwO1xuXG4vKipcbiAqIFJlcHVycG9zaW5nIHVudXNlZCBzdGFjayBhdHRyaWJ1dGVzIHRvIGNyZWF0ZSBzcGVjaWZpYyB0ZXN0IHNjZW5hcmlvc1xuICogLSBzdGFjay5uYW1lICAgICAgICAgID0gZGVwbG95bWVudCBkdXJhdGlvblxuICogLSBzdGFjay5kaXNwbGF5TmFtZSAgID0gZXJyb3IgbWVzc2FnZVxuICovXG5kZXNjcmliZSgnV29ya0dyYXBoJywgKCkgPT4ge1xuICBjb25zdCBhY3Rpb25lZEFzc2V0czogc3RyaW5nW10gPSBbXTtcbiAgY29uc3QgY2FsbGJhY2tzID0ge1xuICAgIGRlcGxveVN0YWNrOiBhc3luYyAoeDogU3RhY2tOb2RlKSA9PiB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB4LnN0YWNrLmRpc3BsYXlOYW1lO1xuICAgICAgY29uc3QgdGltZW91dCA9IE51bWJlcih4LnN0YWNrLnN0YWNrTmFtZSkgfHwgMDtcblxuICAgICAgYXdhaXQgc2xlZXAodGltZW91dCk7XG5cbiAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdGVzdGluZyBOZXN0ZWRDbG91ZEFzc2VtYmx5QXJ0aWZhY3RzXG4gICAgICBpZiAoZXJyb3JNZXNzYWdlICYmICFlcnJvck1lc3NhZ2Uuc3RhcnRzV2l0aCgnTmVzdGVkJykpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cblxuICAgICAgYWN0aW9uZWRBc3NldHMucHVzaCh4LmlkKTtcbiAgICB9LFxuICAgIGJ1aWxkQXNzZXQ6IGFzeW5jKHg6IEFzc2V0QnVpbGROb2RlKSA9PiB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB4LnBhcmVudFN0YWNrLmRpc3BsYXlOYW1lO1xuICAgICAgY29uc3QgdGltZW91dCA9IE51bWJlcih4LnBhcmVudFN0YWNrLnN0YWNrTmFtZSkgfHwgMDtcblxuICAgICAgYXdhaXQgc2xlZXAodGltZW91dCk7XG5cbiAgICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cblxuICAgICAgYWN0aW9uZWRBc3NldHMucHVzaCh4LmlkKTtcbiAgICB9LFxuICAgIHB1Ymxpc2hBc3NldDogYXN5bmMoeDogQXNzZXRQdWJsaXNoTm9kZSkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0geC5wYXJlbnRTdGFjay5kaXNwbGF5TmFtZTtcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBOdW1iZXIoeC5wYXJlbnRTdGFjay5zdGFja05hbWUpIHx8IDA7XG5cbiAgICAgIGF3YWl0IHNsZWVwKHRpbWVvdXQpO1xuXG4gICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRocm93IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG5cbiAgICAgIGFjdGlvbmVkQXNzZXRzLnB1c2goeC5pZCk7XG4gICAgfSxcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBhY3Rpb25lZEFzc2V0cy5zcGxpY2UoMCk7XG4gIH0pO1xuXG4gIC8vIFN1Y2Nlc3NcbiAgdGVzdC5lYWNoKFtcbiAgICAvLyBDb25jdXJyZW5jeSAxXG4gICAgeyBzY2VuYXJpbzogJ05vIFN0YWNrcycsIGNvbmN1cnJlbmN5OiAxLCB0b0RlcGxveTogW10sIGV4cGVjdGVkOiBbXSB9LFxuICAgIHsgc2NlbmFyaW86ICdBJywgY29uY3VycmVuY3k6IDEsIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW3sgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJyB9XSksIGV4cGVjdGVkOiBbJ0EnXSB9LFxuICAgIHsgc2NlbmFyaW86ICdBLCBCJywgY29uY3VycmVuY3k6IDEsIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW3sgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJyB9LCB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycgfV0pLCBleHBlY3RlZDogWydBJywgJ0InXSB9LFxuICAgIHsgc2NlbmFyaW86ICdBIC0+IEInLCBjb25jdXJyZW5jeTogMSwgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snIH0sIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQSddIH1dKSwgZXhwZWN0ZWQ6IFsnQScsICdCJ10gfSxcbiAgICB7IHNjZW5hcmlvOiAnW3Vuc29ydGVkXSBBIC0+IEInLCBjb25jdXJyZW5jeTogMSwgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbeyBpZDogJ0InLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydBJ10gfSwgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snIH1dKSwgZXhwZWN0ZWQ6IFsnQScsICdCJ10gfSxcbiAgICB7IHNjZW5hcmlvOiAnQSAtPiBCIC0+IEMnLCBjb25jdXJyZW5jeTogMSwgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snIH0sIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQSddIH0sIHsgaWQ6ICdDJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQiddIH1dKSwgZXhwZWN0ZWQ6IFsnQScsICdCJywgJ0MnXSB9LFxuICAgIHsgc2NlbmFyaW86ICdBIC0+IEIsIEEgLT4gQycsIGNvbmN1cnJlbmN5OiAxLCB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFt7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycgfSwgeyBpZDogJ0InLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydBJ10gfSwgeyBpZDogJ0MnLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydBJ10gfV0pLCBleHBlY3RlZDogWydBJywgJ0InLCAnQyddIH0sXG4gICAge1xuICAgICAgc2NlbmFyaW86ICdBIChzbG93KSwgQicsXG4gICAgICBjb25jdXJyZW5jeTogMSxcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycsIG5hbWU6IFNMT1cgfSxcbiAgICAgICAgeyBpZDogJ0InLCB0eXBlOiAnc3RhY2snIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkOiBbJ0EnLCAnQiddLFxuICAgIH0sXG4gICAge1xuICAgICAgc2NlbmFyaW86ICdBIC0+IEIsIEMgLT4gRCcsXG4gICAgICBjb25jdXJyZW5jeTogMSxcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycgfSxcbiAgICAgICAgeyBpZDogJ0InLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydBJ10gfSxcbiAgICAgICAgeyBpZDogJ0MnLCB0eXBlOiAnc3RhY2snIH0sXG4gICAgICAgIHsgaWQ6ICdEJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQyddIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkOiBbJ0EnLCAnQycsICdCJywgJ0QnXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjZW5hcmlvOiAnQSAoc2xvdykgLT4gQiwgQyAtPiBEJyxcbiAgICAgIGNvbmN1cnJlbmN5OiAxLFxuICAgICAgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbXG4gICAgICAgIHsgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJywgbmFtZTogU0xPVyB9LFxuICAgICAgICB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0EnXSB9LFxuICAgICAgICB7IGlkOiAnQycsIHR5cGU6ICdzdGFjaycgfSxcbiAgICAgICAgeyBpZDogJ0QnLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydDJ10gfSxcbiAgICAgIF0pLFxuICAgICAgZXhwZWN0ZWQ6IFsnQScsICdDJywgJ0InLCAnRCddLFxuICAgIH0sXG4gICAgLy8gV2l0aCBBc3NldHNcbiAgICB7XG4gICAgICBzY2VuYXJpbzogJ0EgLT4gYScsXG4gICAgICBjb25jdXJyZW5jeTogMSxcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycsIGFzc2V0RGVwZW5kZW5jaWVzOiBbJ2EnXSB9LFxuICAgICAgICB7IGlkOiAnYScsIHR5cGU6ICdhc3NldCcgfSxcbiAgICAgIF0pLFxuICAgICAgZXhwZWN0ZWQ6IFsnYS1idWlsZCcsICdhLXB1Ymxpc2gnLCAnQSddLFxuICAgIH0sXG4gICAge1xuICAgICAgc2NlbmFyaW86ICdBIC0+IFthLCBCXScsXG4gICAgICBjb25jdXJyZW5jeTogMSxcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0InXSwgYXNzZXREZXBlbmRlbmNpZXM6IFsnYSddIH0sXG4gICAgICAgIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJyB9LFxuICAgICAgICB7IGlkOiAnYScsIHR5cGU6ICdhc3NldCcsIG5hbWU6IFNMT1cgfSxcbiAgICAgIF0pLFxuICAgICAgZXhwZWN0ZWQ6IFsnQicsICdhLWJ1aWxkJywgJ2EtcHVibGlzaCcsICdBJ10sXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2VuYXJpbzogJ0EgLT4gYSwgQiAtPiBiJyxcbiAgICAgIGNvbmN1cnJlbmN5OiAxLFxuICAgICAgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbXG4gICAgICAgIHsgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJywgYXNzZXREZXBlbmRlbmNpZXM6IFsnYSddIH0sXG4gICAgICAgIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgYXNzZXREZXBlbmRlbmNpZXM6IFsnYiddIH0sXG4gICAgICAgIHsgaWQ6ICdhJywgdHlwZTogJ2Fzc2V0JyB9LFxuICAgICAgICB7IGlkOiAnYicsIHR5cGU6ICdhc3NldCcgfSxcbiAgICAgIF0pLFxuICAgICAgZXhwZWN0ZWQ6IFsnYS1idWlsZCcsICdiLWJ1aWxkJywgJ2EtcHVibGlzaCcsICdiLXB1Ymxpc2gnLCAnQScsICdCJ10sXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2VuYXJpbzogJ0EsIEIgLT4gYiAtPiBBJyxcbiAgICAgIGNvbmN1cnJlbmN5OiAxLFxuICAgICAgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbXG4gICAgICAgIHsgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJyB9LFxuICAgICAgICB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIGFzc2V0RGVwZW5kZW5jaWVzOiBbJ2InXSB9LFxuICAgICAgICB7IGlkOiAnYicsIHR5cGU6ICdhc3NldCcsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0EnXSB9LFxuICAgICAgXSksXG4gICAgICBleHBlY3RlZDogWydBJywgJ2ItYnVpbGQnLCAnYi1wdWJsaXNoJywgJ0InXSxcbiAgICB9LFxuXG4gICAgLy8gQ29uY3VycmVuY3kgMlxuICAgIHsgc2NlbmFyaW86ICdObyBTdGFja3MnLCBjb25jdXJyZW5jeTogMiwgdG9EZXBsb3k6IFtdLCBleHBlY3RlZDogW10gfSxcbiAgICB7IHNjZW5hcmlvOiAnQScsIGNvbmN1cnJlbmN5OiAyLCB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFt7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycgfV0pLCBleHBlY3RlZDogWydBJ10gfSxcbiAgICB7IHNjZW5hcmlvOiAnQSwgQicsIGNvbmN1cnJlbmN5OiAyLCB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFt7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycgfSwgeyBpZDogJ0InLCB0eXBlOiAnc3RhY2snIH1dKSwgZXhwZWN0ZWQ6IFsnQScsICdCJ10gfSxcbiAgICB7IHNjZW5hcmlvOiAnQSAtPiBCJywgY29uY3VycmVuY3k6IDIsIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW3sgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJyB9LCB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0EnXSB9XSksIGV4cGVjdGVkOiBbJ0EnLCAnQiddIH0sXG4gICAgeyBzY2VuYXJpbzogJ1t1bnNvcnRlZF0gQSAtPiBCJywgY29uY3VycmVuY3k6IDIsIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW3sgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQSddIH0sIHsgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJyB9XSksIGV4cGVjdGVkOiBbJ0EnLCAnQiddIH0sXG4gICAgeyBzY2VuYXJpbzogJ0EgLT4gQiAtPiBDJywgY29uY3VycmVuY3k6IDIsIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW3sgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJyB9LCB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0EnXSB9LCB7IGlkOiAnQycsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0InXSB9XSksIGV4cGVjdGVkOiBbJ0EnLCAnQicsICdDJ10gfSxcbiAgICB7IHNjZW5hcmlvOiAnQSAtPiBCLCBBIC0+IEMnLCBjb25jdXJyZW5jeTogMiwgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snIH0sIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQSddIH0sIHsgaWQ6ICdDJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQSddIH1dKSwgZXhwZWN0ZWQ6IFsnQScsICdCJywgJ0MnXSB9LFxuICAgIHtcbiAgICAgIHNjZW5hcmlvOiAnQSwgQicsXG4gICAgICBjb25jdXJyZW5jeTogMixcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycsIG5hbWU6IFNMT1cgfSxcbiAgICAgICAgeyBpZDogJ0InLCB0eXBlOiAnc3RhY2snIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkOiBbJ0InLCAnQSddLFxuICAgIH0sXG4gICAge1xuICAgICAgc2NlbmFyaW86ICdBIC0+IEIsIEMgLT4gRCcsXG4gICAgICBjb25jdXJyZW5jeTogMixcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycgfSxcbiAgICAgICAgeyBpZDogJ0InLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydBJ10gfSxcbiAgICAgICAgeyBpZDogJ0MnLCB0eXBlOiAnc3RhY2snIH0sXG4gICAgICAgIHsgaWQ6ICdEJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQyddIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkOiBbJ0EnLCAnQycsICdCJywgJ0QnXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjZW5hcmlvOiAnQSAoc2xvdykgLT4gQiwgQyAtPiBEJyxcbiAgICAgIGNvbmN1cnJlbmN5OiAyLFxuICAgICAgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbXG4gICAgICAgIHsgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJywgbmFtZTogU0xPVyB9LFxuICAgICAgICB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0EnXSB9LFxuICAgICAgICB7IGlkOiAnQycsIHR5cGU6ICdzdGFjaycgfSxcbiAgICAgICAgeyBpZDogJ0QnLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydDJ10gfSxcbiAgICAgIF0pLFxuICAgICAgZXhwZWN0ZWQ6IFsnQycsICdEJywgJ0EnLCAnQiddLFxuICAgIH0sXG4gICAge1xuICAgICAgc2NlbmFyaW86ICdBIC0+IEIsIEEgbm90IHNlbGVjdGVkJyxcbiAgICAgIGNvbmN1cnJlbmN5OiAxLFxuICAgICAgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbXG4gICAgICAgIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQSddIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkOiBbJ0InXSxcbiAgICB9LFxuICAgIC8vIFdpdGggQXNzZXRzXG4gICAge1xuICAgICAgc2NlbmFyaW86ICdBIC0+IGEnLFxuICAgICAgY29uY3VycmVuY3k6IDIsXG4gICAgICB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFtcbiAgICAgICAgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBhc3NldERlcGVuZGVuY2llczogWydhJ10gfSxcbiAgICAgICAgeyBpZDogJ2EnLCB0eXBlOiAnYXNzZXQnIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkOiBbJ2EtYnVpbGQnLCAnYS1wdWJsaXNoJywgJ0EnXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjZW5hcmlvOiAnQSAtPiBbYSwgQl0nLFxuICAgICAgY29uY3VycmVuY3k6IDIsXG4gICAgICB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFtcbiAgICAgICAgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydCJ10sIGFzc2V0RGVwZW5kZW5jaWVzOiBbJ2EnXSB9LFxuICAgICAgICB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIG5hbWU6IFNMT1cgfSxcbiAgICAgICAgeyBpZDogJ2EnLCB0eXBlOiAnYXNzZXQnIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkOiBbJ2EtYnVpbGQnLCAnYS1wdWJsaXNoJywgJ0InLCAnQSddLFxuICAgIH0sXG4gICAge1xuICAgICAgc2NlbmFyaW86ICdBIC0+IGEsIEIgLT4gYicsXG4gICAgICBjb25jdXJyZW5jeTogMixcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycsIGFzc2V0RGVwZW5kZW5jaWVzOiBbJ2EnXSB9LFxuICAgICAgICB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIGFzc2V0RGVwZW5kZW5jaWVzOiBbJ2InXSB9LFxuICAgICAgICB7IGlkOiAnYScsIHR5cGU6ICdhc3NldCcgfSxcbiAgICAgICAgeyBpZDogJ2InLCB0eXBlOiAnYXNzZXQnIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkOiBbJ2EtYnVpbGQnLCAnYi1idWlsZCcsICdhLXB1Ymxpc2gnLCAnYi1wdWJsaXNoJywgJ0EnLCAnQiddLFxuICAgIH0sXG4gICAge1xuICAgICAgc2NlbmFyaW86ICdBLCBCIC0+IGIgLT4gQScsXG4gICAgICBjb25jdXJyZW5jeTogMixcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycgfSxcbiAgICAgICAgeyBpZDogJ0InLCB0eXBlOiAnc3RhY2snLCBhc3NldERlcGVuZGVuY2llczogWydiJ10gfSxcbiAgICAgICAgeyBpZDogJ2InLCB0eXBlOiAnYXNzZXQnLCBzdGFja0RlcGVuZGVuY2llczogWydBJ10gfSxcbiAgICAgIF0pLFxuICAgICAgZXhwZWN0ZWQ6IFsnQScsICdiLWJ1aWxkJywgJ2ItcHVibGlzaCcsICdCJ10sXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2VuYXJpbzogJ0EsIEIgLT4gW2IsIGNdLCBiIC0+IEEnLFxuICAgICAgY29uY3VycmVuY3k6IDIsXG4gICAgICB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFtcbiAgICAgICAgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBuYW1lOiBTTE9XIH0sXG4gICAgICAgIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgYXNzZXREZXBlbmRlbmNpZXM6IFsnYicsICdjJ10gfSxcbiAgICAgICAgeyBpZDogJ2InLCB0eXBlOiAnYXNzZXQnLCBzdGFja0RlcGVuZGVuY2llczogWydBJ10gfSxcbiAgICAgICAgeyBpZDogJ2MnLCB0eXBlOiAnYXNzZXQnIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkOiBbJ2MtYnVpbGQnLCAnYy1wdWJsaXNoJywgJ0EnLCAnYi1idWlsZCcsICdiLXB1Ymxpc2gnLCAnQiddLFxuICAgIH0sXG4gIF0pKCdTdWNjZXNzIC0gQ29uY3VycmVuY3k6ICRjb25jdXJyZW5jeSAtICRzY2VuYXJpbycsIGFzeW5jICh7IGNvbmN1cnJlbmN5LCBleHBlY3RlZCwgdG9EZXBsb3kgfSkgPT4ge1xuICAgIGNvbnN0IGdyYXBoID0gbmV3IFdvcmtHcmFwaCgpO1xuICAgIGFkZFRlc3RBcnRpZmFjdHNUb0dyYXBoKHRvRGVwbG95LCBncmFwaCk7XG5cbiAgICBhd2FpdCBncmFwaC5kb1BhcmFsbGVsKGNvbmN1cnJlbmN5LCBjYWxsYmFja3MpO1xuXG4gICAgZXhwZWN0KGFjdGlvbmVkQXNzZXRzKS50b1N0cmljdEVxdWFsKGV4cGVjdGVkKTtcbiAgfSk7XG5cbiAgdGVzdCgnY2FuIHJlbW92ZSB1bm5lY2Vzc2FyeSBhc3NldHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZ3JhcGggPSBuZXcgV29ya0dyYXBoKCk7XG4gICAgYWRkVGVzdEFydGlmYWN0c1RvR3JhcGgoW1xuICAgICAgeyBpZDogJ2EnLCB0eXBlOiAnYXNzZXQnIH0sXG4gICAgICB7IGlkOiAnYicsIHR5cGU6ICdhc3NldCcgfSxcbiAgICAgIHsgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJywgYXNzZXREZXBlbmRlbmNpZXM6IFsnYScsICdiJ10gfSxcbiAgICBdLCBncmFwaCk7XG5cbiAgICAvLyBSZW1vdmUgJ2InIGZyb20gdGhlIGdyYXBoXG4gICAgYXdhaXQgZ3JhcGgucmVtb3ZlVW5uZWNlc3NhcnlBc3NldHMobm9kZSA9PiBQcm9taXNlLnJlc29sdmUobm9kZS5pZC5zdGFydHNXaXRoKCdiJykpKTtcbiAgICBhd2FpdCBncmFwaC5kb1BhcmFsbGVsKDEsIGNhbGxiYWNrcyk7XG5cbiAgICAvLyBXZSBleHBlY3QgdG8gb25seSBzZWUgJ2EnIGFuZCAnQSdcbiAgICBleHBlY3QoYWN0aW9uZWRBc3NldHMpLnRvRXF1YWwoWydhLWJ1aWxkJywgJ2EtcHVibGlzaCcsICdBJ10pO1xuICB9KTtcblxuICAvLyBGYWlsdXJlIENvbmN1cnJlbmN5XG4gIHRlc3QuZWFjaChbXG4gICAgLy8gQ29uY3VycmVuY3kgMVxuICAgIHsgc2NlbmFyaW86ICdBIChlcnJvciknLCBjb25jdXJyZW5jeTogMSwgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBkaXNwbGF5TmFtZTogJ0EnIH1dKSwgZXhwZWN0ZWRFcnJvcjogJ0EnLCBleHBlY3RlZDogW10gfSxcbiAgICB7IHNjZW5hcmlvOiAnQSAoZXJyb3IpLCBCJywgY29uY3VycmVuY3k6IDEsIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW3sgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJywgZGlzcGxheU5hbWU6ICdBJyB9LCB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycgfV0pLCBleHBlY3RlZEVycm9yOiAnQScsIGV4cGVjdGVkOiBbXSB9LFxuICAgIHsgc2NlbmFyaW86ICdBLCBCIChlcnJvciknLCBjb25jdXJyZW5jeTogMSwgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snIH0sIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgZGlzcGxheU5hbWU6ICdCJyB9XSksIGV4cGVjdGVkRXJyb3I6ICdCJywgZXhwZWN0ZWQ6IFsnQSddIH0sXG4gICAgeyBzY2VuYXJpbzogJ0EgKGVycm9yKSAtPiBCJywgY29uY3VycmVuY3k6IDEsIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW3sgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJywgZGlzcGxheU5hbWU6ICdBJyB9LCB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0EnXSB9XSksIGV4cGVjdGVkRXJyb3I6ICdBJywgZXhwZWN0ZWQ6IFtdIH0sXG4gICAgeyBzY2VuYXJpbzogJ1t1bnNvcnRlZF0gQSAoZXJyb3IpIC0+IEInLCBjb25jdXJyZW5jeTogMSwgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbeyBpZDogJ0InLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydBJ10gfSwgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBkaXNwbGF5TmFtZTogJ0EnIH1dKSwgZXhwZWN0ZWRFcnJvcjogJ0EnLCBleHBlY3RlZDogW10gfSxcbiAgICB7XG4gICAgICBzY2VuYXJpbzogJ0EgKGVycm9yKSAtPiBCLCBDIC0+IEQnLFxuICAgICAgY29uY3VycmVuY3k6IDEsXG4gICAgICB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFtcbiAgICAgICAgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBkaXNwbGF5TmFtZTogJ0EnIH0sXG4gICAgICAgIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQSddIH0sXG4gICAgICAgIHsgaWQ6ICdDJywgdHlwZTogJ3N0YWNrJyB9LFxuICAgICAgICB7IGlkOiAnRCcsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0MnXSB9LFxuICAgICAgXSksXG4gICAgICBleHBlY3RlZEVycm9yOiAnQScsXG4gICAgICBleHBlY3RlZDogW10sXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2VuYXJpbzogJ0EgLT4gQiwgQyAoZXJyb3IpIC0+IEQnLFxuICAgICAgY29uY3VycmVuY3k6IDEsXG4gICAgICB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFtcbiAgICAgICAgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snIH0sXG4gICAgICAgIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQSddIH0sXG4gICAgICAgIHsgaWQ6ICdDJywgdHlwZTogJ3N0YWNrJywgZGlzcGxheU5hbWU6ICdDJywgbmFtZTogU0xPVyB9LFxuICAgICAgICB7IGlkOiAnRCcsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0MnXSB9LFxuICAgICAgXSksXG4gICAgICBleHBlY3RlZEVycm9yOiAnQycsXG4gICAgICBleHBlY3RlZDogWydBJ10sXG4gICAgfSxcbiAgICAvLyBXaXRoIGFzc2V0c1xuICAgIHtcbiAgICAgIHNjZW5hcmlvOiAnQSAtPiBiIChhc3NldCBidWlsZCBlcnJvciknLFxuICAgICAgY29uY3VycmVuY3k6IDEsXG4gICAgICB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFtcbiAgICAgICAgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBhc3NldERlcGVuZGVuY2llczogWydiJ10gfSxcbiAgICAgICAgeyBpZDogJ2InLCB0eXBlOiAnYXNzZXQnLCBkaXNwbGF5TmFtZTogJ2J1aWxkLWInIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkRXJyb3I6ICdidWlsZC1iJyxcbiAgICAgIGV4cGVjdGVkOiBbXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjZW5hcmlvOiAnQSAtPiBiIChhc3NldCBwdWJsaXNoIGVycm9yKScsXG4gICAgICBjb25jdXJyZW5jeTogMSxcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycsIGFzc2V0RGVwZW5kZW5jaWVzOiBbJ2InXSB9LFxuICAgICAgICB7IGlkOiAnYicsIHR5cGU6ICdhc3NldCcsIGRpc3BsYXlOYW1lOiAncHVibGlzaC1iJyB9LFxuICAgICAgXSksXG4gICAgICBleHBlY3RlZEVycm9yOiAncHVibGlzaC1iJyxcbiAgICAgIGV4cGVjdGVkOiBbJ2ItYnVpbGQnXSxcbiAgICB9LFxuXG4gICAgLy8gQ29uY3VycmVuY3kgMlxuICAgIHsgc2NlbmFyaW86ICdBIChlcnJvciknLCBjb25jdXJyZW5jeTogMiwgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBkaXNwbGF5TmFtZTogJ0EnIH1dKSwgZXhwZWN0ZWRFcnJvcjogJ0EnLCBleHBlY3RlZDogW10gfSxcbiAgICB7IHNjZW5hcmlvOiAnQSAoZXJyb3IpLCBCJywgY29uY3VycmVuY3k6IDIsIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW3sgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJywgZGlzcGxheU5hbWU6ICdBJyB9LCB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycgfV0pLCBleHBlY3RlZEVycm9yOiAnQScsIGV4cGVjdGVkOiBbJ0InXSB9LFxuICAgIHsgc2NlbmFyaW86ICdBLCBCIChlcnJvciknLCBjb25jdXJyZW5jeTogMiwgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snIH0sIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgZGlzcGxheU5hbWU6ICdCJyB9XSksIGV4cGVjdGVkRXJyb3I6ICdCJywgZXhwZWN0ZWQ6IFsnQSddIH0sXG4gICAgeyBzY2VuYXJpbzogJ0EgKGVycm9yKSAtPiBCJywgY29uY3VycmVuY3k6IDIsIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW3sgaWQ6ICdBJywgdHlwZTogJ3N0YWNrJywgZGlzcGxheU5hbWU6ICdBJyB9LCB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0EnXSB9XSksIGV4cGVjdGVkRXJyb3I6ICdBJywgZXhwZWN0ZWQ6IFtdIH0sXG4gICAgeyBzY2VuYXJpbzogJ1t1bnNvcnRlZF0gQSAoZXJyb3IpIC0+IEInLCBjb25jdXJyZW5jeTogMiwgdG9EZXBsb3k6IGNyZWF0ZUFydGlmYWN0cyhbeyBpZDogJ0InLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydBJ10gfSwgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBkaXNwbGF5TmFtZTogJ0EnIH1dKSwgZXhwZWN0ZWRFcnJvcjogJ0EnLCBleHBlY3RlZDogW10gfSxcbiAgICB7XG4gICAgICBzY2VuYXJpbzogJ0EgKGVycm9yKSAtPiBCLCBDIC0+IEQnLFxuICAgICAgY29uY3VycmVuY3k6IDIsXG4gICAgICB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFtcbiAgICAgICAgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBkaXNwbGF5TmFtZTogJ0EnIH0sXG4gICAgICAgIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQSddIH0sXG4gICAgICAgIHsgaWQ6ICdDJywgdHlwZTogJ3N0YWNrJyB9LFxuICAgICAgICB7IGlkOiAnRCcsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0MnXSB9LFxuICAgICAgXSksXG4gICAgICBleHBlY3RlZEVycm9yOiAnQScsXG4gICAgICBleHBlY3RlZDogWydDJ10sXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2VuYXJpbzogJ0EgLT4gQiwgQyAoZXJyb3IpIC0+IEQnLFxuICAgICAgY29uY3VycmVuY3k6IDIsXG4gICAgICB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFtcbiAgICAgICAgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snIH0sXG4gICAgICAgIHsgaWQ6ICdCJywgdHlwZTogJ3N0YWNrJywgc3RhY2tEZXBlbmRlbmNpZXM6IFsnQSddIH0sXG4gICAgICAgIHsgaWQ6ICdDJywgdHlwZTogJ3N0YWNrJywgZGlzcGxheU5hbWU6ICdDJywgbmFtZTogU0xPVyB9LFxuICAgICAgICB7IGlkOiAnRCcsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0MnXSB9LFxuICAgICAgXSksXG4gICAgICBleHBlY3RlZEVycm9yOiAnQycsXG4gICAgICBleHBlY3RlZDogWydBJywgJ0InXSxcbiAgICB9LFxuICAgIC8vIFdpdGggYXNzZXRzXG4gICAge1xuICAgICAgc2NlbmFyaW86ICdBIC0+IGIgKGFzc2V0IGJ1aWxkIGVycm9yKSwgQycsXG4gICAgICBjb25jdXJyZW5jeTogMixcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycsIGFzc2V0RGVwZW5kZW5jaWVzOiBbJ2InXSB9LFxuICAgICAgICB7IGlkOiAnYicsIHR5cGU6ICdhc3NldCcsIGRpc3BsYXlOYW1lOiAnYnVpbGQtYicgfSxcbiAgICAgICAgeyBpZDogJ0MnLCB0eXBlOiAnc3RhY2snIH0sXG4gICAgICBdKSxcbiAgICAgIGV4cGVjdGVkRXJyb3I6ICdidWlsZC1iJyxcbiAgICAgIGV4cGVjdGVkOiBbJ0MnXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjZW5hcmlvOiAnQSAtPiBiIChhc3NldCBwdWJsaXNoIGVycm9yKSwgQycsXG4gICAgICBjb25jdXJyZW5jeTogMixcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycsIGFzc2V0RGVwZW5kZW5jaWVzOiBbJ2InXSB9LFxuICAgICAgICB7IGlkOiAnYicsIHR5cGU6ICdhc3NldCcsIGRpc3BsYXlOYW1lOiAncHVibGlzaC1iJyB9LFxuICAgICAgICB7IGlkOiAnQycsIHR5cGU6ICdzdGFjaycgfSxcbiAgICAgIF0pLFxuICAgICAgZXhwZWN0ZWRFcnJvcjogJ3B1Ymxpc2gtYicsXG4gICAgICBleHBlY3RlZDogWydiLWJ1aWxkJywgJ0MnXSxcbiAgICB9LFxuICBdKSgnRmFpbHVyZSAtIENvbmN1cnJlbmN5OiAkY29uY3VycmVuY3kgLSAkc2NlbmFyaW8nLCBhc3luYyAoeyBjb25jdXJyZW5jeSwgZXhwZWN0ZWRFcnJvciwgdG9EZXBsb3ksIGV4cGVjdGVkIH0pID0+IHtcbiAgICBjb25zdCBncmFwaCA9IG5ldyBXb3JrR3JhcGgoKTtcbiAgICBhZGRUZXN0QXJ0aWZhY3RzVG9HcmFwaCh0b0RlcGxveSwgZ3JhcGgpO1xuXG4gICAgYXdhaXQgZXhwZWN0KGdyYXBoLmRvUGFyYWxsZWwoY29uY3VycmVuY3ksIGNhbGxiYWNrcykpLnJlamVjdHMudG9UaHJvd0Vycm9yKGV4cGVjdGVkRXJyb3IpO1xuXG4gICAgZXhwZWN0KGFjdGlvbmVkQXNzZXRzKS50b1N0cmljdEVxdWFsKGV4cGVjdGVkKTtcbiAgfSk7XG5cbiAgLy8gRmFpbHVyZSBHcmFwaCBDaXJjdWxhciBEZXBlbmRlbmNpZXNcbiAgdGVzdC5lYWNoKFtcbiAgICB7XG4gICAgICBzY2VuYXJpbzogJ0EgLT4gQScsXG4gICAgICB0b0RlcGxveTogY3JlYXRlQXJ0aWZhY3RzKFtcbiAgICAgICAgeyBpZDogJ0EnLCB0eXBlOiAnc3RhY2snLCBzdGFja0RlcGVuZGVuY2llczogWydBJ10gfSxcbiAgICAgIF0pLFxuICAgICAgZXhwZWN0ZWRFcnJvcjogJ0EgLT4gQScsXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2VuYXJpbzogJ0EgLT4gQiwgQiAtPiBBJyxcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0InXSB9LFxuICAgICAgICB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0EnXSB9LFxuICAgICAgXSksXG4gICAgICBleHBlY3RlZEVycm9yOiAnQSAtPiBCIC0+IEEnLFxuICAgIH0sXG4gICAge1xuICAgICAgc2NlbmFyaW86ICdBLCBCIC0+IEMsIEMgLT4gRCwgRCAtPiBCJyxcbiAgICAgIHRvRGVwbG95OiBjcmVhdGVBcnRpZmFjdHMoW1xuICAgICAgICB7IGlkOiAnQScsIHR5cGU6ICdzdGFjaycgfSwgLy8gQWRkIGEgbm9kZSB0byB2aXNpdCBmaXJzdCBzbyB0aGUgaW5maW5pdGUgbG9vcCBvY2N1cnMgZGVlcGVyIGluIHRoZSB0cmF2ZXJzYWwgY2FsbHN0YWNrLlxuICAgICAgICB7IGlkOiAnQicsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0MnXSB9LFxuICAgICAgICB7IGlkOiAnQycsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0QnXSB9LFxuICAgICAgICB7IGlkOiAnRCcsIHR5cGU6ICdzdGFjaycsIHN0YWNrRGVwZW5kZW5jaWVzOiBbJ0InXSB9LFxuICAgICAgXSksXG4gICAgICBleHBlY3RlZEVycm9yOiAnQiAtPiBDIC0+IEQgLT4gQicsXG4gICAgfSxcbiAgXSkoJ0ZhaWx1cmUgLSBHcmFwaCBDaXJjdWxhciBEZXBlbmRlbmNpZXMgLSAkc2NlbmFyaW8nLCBhc3luYyAoeyB0b0RlcGxveSwgZXhwZWN0ZWRFcnJvciB9KSA9PiB7XG4gICAgY29uc3QgZ3JhcGggPSBuZXcgV29ya0dyYXBoKCk7XG4gICAgYWRkVGVzdEFydGlmYWN0c1RvR3JhcGgodG9EZXBsb3ksIGdyYXBoKTtcblxuICAgIGF3YWl0IGV4cGVjdChncmFwaC5kb1BhcmFsbGVsKDEsIGNhbGxiYWNrcykpLnJlamVjdHMudG9UaHJvd0Vycm9yKG5ldyBSZWdFeHAoYFVuYWJsZSB0byBtYWtlIHByb2dyZXNzLioke2V4cGVjdGVkRXJyb3J9YCkpO1xuICB9KTtcbn0pO1xuXG5pbnRlcmZhY2UgVGVzdEFydGlmYWN0IHtcbiAgc3RhY2tEZXBlbmRlbmNpZXM/OiBzdHJpbmdbXTtcbiAgYXNzZXREZXBlbmRlbmNpZXM/OiBzdHJpbmdbXTtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogJ3N0YWNrJyB8ICdhc3NldCcgfCAndHJlZSd8ICduZXN0ZWQnO1xuICBuYW1lPzogbnVtYmVyO1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbn1cblxuZnVuY3Rpb24gY3JlYXRlQXJ0aWZhY3RzKGFydGlmYWN0czogVGVzdEFydGlmYWN0W10pIHtcbiAgcmV0dXJuIGFydGlmYWN0cztcbn1cblxuZnVuY3Rpb24gYWRkVGVzdEFydGlmYWN0c1RvR3JhcGgodG9EZXBsb3k6IFRlc3RBcnRpZmFjdFtdLCBncmFwaDogV29ya0dyYXBoKSB7XG4gIGZvciAoY29uc3Qgbm9kZSBvZiB0b0RlcGxveSkge1xuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICBjYXNlICdzdGFjayc6XG4gICAgICAgIGdyYXBoLmFkZE5vZGVzKHtcbiAgICAgICAgICB0eXBlOiAnc3RhY2snLFxuICAgICAgICAgIGlkOiBub2RlLmlkLFxuICAgICAgICAgIGRlcGxveW1lbnRTdGF0ZTogRGVwbG95bWVudFN0YXRlLlBFTkRJTkcsXG4gICAgICAgICAgc3RhY2s6IHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIHNtdWdnbGluZyBpbmZvcm1hdGlvbiBoZXJlIHNvIHRoYXQgdGhlIHNldCBvZiBjYWxsYmFja3MgY2FuIGRvIHNvbWUgYXBwcm9wcmlhdGUgYWN0aW9uXG4gICAgICAgICAgICBzdGFja05hbWU6IG5vZGUubmFtZSwgLy8gVXNlZCB0byBzbXVnZ2xlIHNsZWVwIGR1cmF0aW9uXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogbm9kZS5kaXNwbGF5TmFtZSwgLy8gVXNlZCB0byBzbXVnZ2xlIGV4Y2VwdGlvbiB0cmlnZ2Vyc1xuICAgICAgICAgIH0gYXMgYW55LFxuICAgICAgICAgIGRlcGVuZGVuY2llczogbmV3IFNldChbLi4ubm9kZS5zdGFja0RlcGVuZGVuY2llcyA/PyBbXSwgLi4uKG5vZGUuYXNzZXREZXBlbmRlbmNpZXMgPz8gW10pLm1hcCh4ID0+IGAke3h9LXB1Ymxpc2hgKV0pLFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhc3NldCc6XG4gICAgICAgIGdyYXBoLmFkZE5vZGVzKHtcbiAgICAgICAgICB0eXBlOiAnYXNzZXQtYnVpbGQnLFxuICAgICAgICAgIGlkOiBgJHtub2RlLmlkfS1idWlsZGAsXG4gICAgICAgICAgZGVwbG95bWVudFN0YXRlOiBEZXBsb3ltZW50U3RhdGUuUEVORElORyxcbiAgICAgICAgICBhc3NldDogRFVNTVksXG4gICAgICAgICAgYXNzZXRNYW5pZmVzdDogRFVNTVksXG4gICAgICAgICAgYXNzZXRNYW5pZmVzdEFydGlmYWN0OiBEVU1NWSxcbiAgICAgICAgICBwYXJlbnRTdGFjazoge1xuICAgICAgICAgICAgLy8gV2UncmUgc211Z2dsaW5nIGluZm9ybWF0aW9uIGhlcmUgc28gdGhhdCB0aGUgc2V0IG9mIGNhbGxiYWNrcyBjYW4gZG8gc29tZSBhcHByb3ByaWF0ZSBhY3Rpb25cbiAgICAgICAgICAgIHN0YWNrTmFtZTogbm9kZS5uYW1lLCAvLyBVc2VkIHRvIHNtdWdnbGUgc2xlZXAgZHVyYXRpb25cbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBub2RlLmRpc3BsYXlOYW1lPy5pbmNsdWRlcygnYnVpbGQnKSA/IG5vZGUuZGlzcGxheU5hbWUgOiB1bmRlZmluZWQsIC8vIFVzZWQgdG8gc211Z2dsZSBleGNlcHRpb24gdHJpZ2dlcnNcbiAgICAgICAgICB9IGFzIGFueSxcbiAgICAgICAgICBkZXBlbmRlbmNpZXM6IG5ldyBTZXQoWy4uLm5vZGUuc3RhY2tEZXBlbmRlbmNpZXMgPz8gW10sIC4uLihub2RlLmFzc2V0RGVwZW5kZW5jaWVzID8/IFtdKS5tYXAoeCA9PiBgJHt4fS1wdWJsaXNoYCldKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGdyYXBoLmFkZE5vZGVzKHtcbiAgICAgICAgICB0eXBlOiAnYXNzZXQtcHVibGlzaCcsXG4gICAgICAgICAgaWQ6IGAke25vZGUuaWR9LXB1Ymxpc2hgLFxuICAgICAgICAgIGRlcGxveW1lbnRTdGF0ZTogRGVwbG95bWVudFN0YXRlLlBFTkRJTkcsXG4gICAgICAgICAgYXNzZXQ6IERVTU1ZLFxuICAgICAgICAgIGFzc2V0TWFuaWZlc3Q6IERVTU1ZLFxuICAgICAgICAgIGFzc2V0TWFuaWZlc3RBcnRpZmFjdDogRFVNTVksXG4gICAgICAgICAgcGFyZW50U3RhY2s6IHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIHNtdWdnbGluZyBpbmZvcm1hdGlvbiBoZXJlIHNvIHRoYXQgdGhlIHNldCBvZiBjYWxsYmFja3MgY2FuIGRvIHNvbWUgYXBwcm9wcmlhdGUgYWN0aW9uXG4gICAgICAgICAgICBzdGFja05hbWU6IG5vZGUubmFtZSwgLy8gVXNlZCB0byBzbXVnZ2xlIHNsZWVwIGR1cmF0aW9uXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogbm9kZS5kaXNwbGF5TmFtZT8uaW5jbHVkZXMoJ3B1Ymxpc2gnKSA/IG5vZGUuZGlzcGxheU5hbWUgOiB1bmRlZmluZWQsIC8vIFVzZWQgdG8gc211Z2dsZSBleGNlcHRpb24gdHJpZ2dlcnNcbiAgICAgICAgICB9IGFzIGFueSxcbiAgICAgICAgICBkZXBlbmRlbmNpZXM6IG5ldyBTZXQoW2Ake25vZGUuaWR9LWJ1aWxkYF0pLFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGdyYXBoLnJlbW92ZVVuYXZhaWxhYmxlRGVwZW5kZW5jaWVzKCk7XG59Il19